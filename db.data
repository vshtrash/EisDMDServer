-- Database: postgres

-- DROP DATABASE postgres;

CREATE DATABASE postgres
    WITH
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'Latvian_Latvia.1257'
    LC_CTYPE = 'Latvian_Latvia.1257'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1;

COMMENT ON DATABASE postgres
    IS 'default administrative connection database';




-----------------------------------------------------------------
-- Table: public.customers

-- DROP TABLE public.customers;

CREATE TABLE public.customers
(
    id bigint NOT NULL,
    enabled boolean,
    name character varying(255) COLLATE pg_catalog."default",
    products bytea,
    CONSTRAINT customer_pkey1 PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.customers
    OWNER to postgres;


-- Table: public.products

-- DROP TABLE public.products;

CREATE TABLE public.products
(
    id bigint NOT NULL,
    customer_id bigint,
    name character varying(255) COLLATE pg_catalog."default",
    enabled boolean,
    CONSTRAINT product_pkey PRIMARY KEY (id),
    CONSTRAINT fk29w1glmsx19fyn0ts34ak8pc5 FOREIGN KEY (customer_id)
        REFERENCES public.customers (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fk_customer_id FOREIGN KEY (customer_id)
        REFERENCES public.customers (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT fkj80n6400wnfqrt86qimf9k6ys FOREIGN KEY (customer_id)
        REFERENCES public.customers (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.products
    OWNER to postgres;



- Table: public.dmdversions

-- DROP TABLE public.dmdversions;

CREATE TABLE public.dmdversions
(
    id bigint NOT NULL,
    productId bigint NOT NULL,
    name character varying(255) COLLATE pg_catalog."default",
    enabled boolean,
    CONSTRAINT "PK_DMDVERSION" PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.dmdversions
    OWNER to postgres;